<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="Scripts/jquery-1.9.1.min.js" type="text/javascript"></script>

    <script src="Scripts/json2.js" type="text/javascript"></script>
    <script src="Scripts/jquery.my.webapi.js" type="text/javascript"></script>
    <script src="Scripts/jquery.kansa.Query.js" type="text/javascript"></script>
    <script src="debug/jquery.my.debug.js" type="text/javascript"></script>
    <script type="text/javascript">
        (function ($) {
            $(window).on("load", function () {
                var work = window.opener.parentInit();
                var Json = JSON.parse(work);
                alert(Json["secMode"]);
            })
            $(document).on("click", ".exec", function () {
                var work = getQueryInfo();
                setName(work["xyz"]);
            })
            $(document).on("click", ".exit", function () {
                window.close();
            })
        })(jQuery);

    </script>
    <script type="text/jscript" language="javascript">
        function getQueryInfo() {
            var queryString = window.location.search;
            var queryObject = new Object();
            if (queryString) {
                queryString = queryString.substring(1);
                var parameters = queryString.split('&');

                for (var i = 0; i < parameters.length; i++) {
                    var element = parameters[i].split('=');

                    var paramName = decodeURIComponent(element[0]);
                    var paramValue = decodeURIComponent(element[1]);

                    queryObject[paramName] = paramValue;
                }
            }
            return (queryObject);
        }
    </script>
    <script language="JavaScript">
        function setName(para) {
            window.opener.parentExec("太郎"+para);
        }
    </script>
</head>
<body>
    <dev class="box"></dev>
    <button class="exec">実行</button>
    <button class="exit">終了</button>
</body>
</html>